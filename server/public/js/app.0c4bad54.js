(function(t){function e(e){for(var a,i,s=e[0],l=e[1],c=e[2],d=0,f=[];d<s.length;d++)i=s[d],r[i]&&f.push(r[i][0]),r[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(f.length)f.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,s=1;s<n.length;s++){var l=n[s];0!==r[l]&&(a=!1)}a&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},r={app:0},o=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0e27":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("servicios caja")])},r=[],o={},i=o,s=n("2877"),l=Object(s["a"])(i,a,r,!1,null,"72f95ab8",null);e["default"]=l.exports},"1c2d":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("toolbar"),n("v-content",[n("router-view")],1)],1)},r=[],o={},i=o,s=n("2877"),l=n("6544"),c=n.n(l),u=n("a75b"),d=Object(s["a"])(i,a,r,!1,null,"4a1e8974",null);e["default"]=d.exports;c()(d,{VContent:u["a"]})},"3a10":function(t,e,n){},4601:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{id:"keep"}},[n("toolbar"),n("drawer"),t.isDataReady?n("v-content",[n("v-fade-transition",{attrs:{mode:"out-in"}},[n("router-view")],1)],1):t._e(),n("v-overlay",{attrs:{value:t.overlay}},[n("v-progress-circular",{attrs:{size:70,width:3,color:"primary",indeterminate:""}}),n("p",{staticClass:"ml-n3"},[t._v(t._s(t.overlayText))])],1)],1)},r=[],o=n("bc3a"),i=n.n(o),s={props:{source:String},data:function(){return{drawer:null,items:[{icon:"lightbulb_outline",text:"Intenciones",to:"intent"}],isDataReady:!1}},mounted:function(){this.getInitialData(),this.$store.dispatch("initialLoad")},methods:{getInitialData:function(){var t=this;this.$store.dispatch("showOverlay",{active:!0,text:"Cargando datos"}),i.a.get("/api/chatbot/agent/intents").then(function(e){e.data.ok?(console.log(e.data),console.log("datos conseguidos:"),t.$store.dispatch("setIntents",e.data.payload),t.isDataReady=!0):console.error(e.data)}).catch(function(e){if("ECONNABORTED"!==e.code)throw console.log(e),e;console.log("se excedio el tiempo limite"),t.$store.dispatch("showSnackbar",{text:"Algo salió mal",color:"error"})}).finally(function(){t.$store.dispatch("showOverlay",{active:!1,text:"Cargando datos"})})}},computed:{overlay:function(){return this.$store.state.overlay.active},overlayText:function(){return this.$store.state.overlay.text}}},l=s,c=(n("99f1"),n("2877")),u=n("6544"),d=n.n(u),f=n("7496"),m=n("a75b"),p=n("0789"),v=n("a797"),h=n("490a"),g=Object(c["a"])(l,a,r,!1,null,null,null);e["default"]=g.exports;d()(g,{VApp:f["a"],VContent:m["a"],VFadeTransition:p["b"],VOverlay:v["a"],VProgressCircular:h["a"]})},"559a":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("menu persistente")])},r=[],o={},i=o,s=n("2877"),l=Object(s["a"])(i,a,r,!1,null,"6a55a8ee",null);e["default"]=l.exports},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),r=(n("5363"),n("f309"));a["a"].use(r["a"]);var o=new r["a"]({icons:{iconfont:"mdi"}}),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("v-app",[n("router-view"),n("snackbar")],1)],1)},s=[],l=n("2877"),c=n("6544"),u=n.n(c),d=n("7496"),f={},m=Object(l["a"])(f,i,s,!1,null,null,null),p=m.exports;u()(m,{VApp:d["a"]});var v=n("8c4f"),h=n("1858"),g=n.n(h);a["a"].use(v["a"]);var b=[{path:"/dashboard",component:n("4601").default,meta:{requiresAuth:!0},children:[{path:"",name:"dashboard",redirect:{name:"intent"}},{path:"intenciones",name:"intent",component:n("7761").default},{path:"intenciones/:id",name:"updateIntent",component:n("ca63").default},{path:"menu-persistente",name:"persistantMenu",component:n("559a").default},{path:"agencias",name:"agencies",component:n("fff1").default}]},{path:"/",component:n("1c2d").default,meta:{guest:!0},children:[{path:"",redirect:"/login"},{path:"/login",name:"login",component:n("bd01").default},{path:"registro",name:"register",component:n("6d75").default}]},{path:"/webview",component:n("0e27").default},{path:"*",component:n("ff18").default}],_=new v["a"]({routes:b,mode:"history"});_.beforeEach(function(t,e,n){if(t.matched.some(function(t){return t.meta.requiresAuth}))if(null==g.a.getItem("token"))n({name:"login",params:{nextUrl:t.fullPath}});else{var a=JSON.parse(g.a.getItem("user"));t.matched.some(function(t){return t.meta.requiresAuth})?"ADMIN"==a.role?n():n({name:"dashboard"}):n()}else t.matched.some(function(t){return t.meta.guest})?null==g.a.getItem("token")?n():n({name:"dashboard"}):n()});var w=_,x=n("2f62"),y=n("bc3a"),k=n.n(y);a["a"].prototype.$axios=k.a,a["a"].use(x["a"]);var T=new x["a"].Store({state:{status:"",token:g.a.getItem("token")||"",user:JSON.parse(g.a.getItem("user"))||{},intents:[],loggingIn:!1,loginError:null,loginSuccessful:!1,snackbar:{text:"",active:!1,color:"success"},toolbar:{drawerIcon:null},overlay:{active:!1,text:""}},mutations:{auth_request:function(t){t.status="loading"},setIntents:function(t,e){t.intents=e},logout:function(t){t.status="",t.token="",t.loggingIn=!1},auth_success:function(t,e){var n=e.token,a=e.user;t.status="success",t.token=n,t.user=a,t.loggingIn=!0},auth_error:function(t){t.status="error"},showSnackbar:function(t,e){var n=e.text,a=e.color;t.snackbar.text=n,t.snackbar.color=a,t.snackbar.active=!0},initialLoad:function(t){t.loggingIn=!0,t.loggingIn=!0},showOverlay:function(t,e){var n=e.active,a=e.text;t.overlay.active=n,t.overlay.text=a}},actions:{showSnackbar:function(t,e){var n=t.commit,a=e.text,r=e.color;n("showSnackbar",{text:a,color:r})},showOverlay:function(t,e){var n=t.commit,a=e.active,r=e.text;n("showOverlay",{active:a,text:r})},register:function(t,e){var n=t.commit;return new Promise(function(t,a){n("auth_request"),k.a.post("/api/register",{first_name:e.first_name,last_name:e.last_name,email:e.email,password:e.password}).then(function(e){e.data.ok?t(e.data.message):console.error(e.data)}).catch(function(t){a(t),console.log(t)})})},login:function(t,e){var n=t.commit;return new Promise(function(t,a){n("auth_request"),k.a.post("/api/login",{email:e.email,password:e.password}).then(function(e){if(e.data.ok){console.log(e.data);var a=e.data.token,r=e.data.payload;g.a.setItem("token",a),g.a.setItem("user",JSON.stringify(r)),k.a.defaults.headers.common["Authorization"]=a,n("auth_success",{token:a,user:r}),t(e.data.message)}}).catch(function(t){n("auth_error"),g.a.removeItem("token"),t.response&&(console.error(t.response.data),a(t))})})},setIntents:function(t,e){var n=t.commit;n("setIntents",e)},logout:function(t){var e=t.commit;e("logout"),g.a.removeItem("token")},initialLoad:function(t){var e=t.commit;e("initialLoad")}},getters:{isLoggedIn:function(t){return!!t.token},authStatus:function(t){return t.status}}}),I=(n("3a10"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("p",[t._v("\n    Tiempo transcurrido:\n    "+t._s(t.hours)+" :\n    "+t._s(t._f("zeroPad")(t.minutes))+" :\n    "+t._s(t._f("zeroPad")(t.seconds))+" :\n    "+t._s(t._f("zeroPad")(t.milliSeconds,3))+"\n  ")]),t.isRunning?t._e():n("v-btn",{attrs:{outline:"",color:"primary",dark:""},on:{click:t.startTimer}},[t._v("EMPEZAR")]),t.isRunning?n("v-btn",{attrs:{outline:"",color:"success",dark:"",disabled:!t.isRunning},on:{click:t.pushTime}},[t._v("VUELTA")]):t._e(),t.isRunning?n("v-btn",{attrs:{outline:"",color:"error",dark:"",disabled:!t.isRunning},on:{click:t.stopTimer}},[t._v("DETENER")]):t._e(),t.isRunning?n("v-btn",{attrs:{outline:"",color:"black",dark:""},on:{click:t.clearAll}},[t._v("BORRAR")]):t._e(),n("ul",t._l(t.laps,function(e){return n("li",[t._v("\n      "+t._s(e.hours)+" :\n      "+t._s(t._f("zeroPad")(e.minutes))+" :\n      "+t._s(t._f("zeroPad")(e.seconds))+" :\n      "+t._s(t._f("zeroPad")(e.milliSeconds,3))+"\n    ")])}),0)],1)}),V=[],O=(n("6b54"),n("f576"),{mounted:function(){console.log("esto hay en laps: ",this.laps)},props:["laps"],data:function(){return{times:[],animateFrame:0,nowTime:0,diffTime:0,startTime:0,isRunning:!1}},methods:{setSubtractStartTime:function(t){t="undefined"!==typeof t?t:0;this.startTime=Math.floor(performance.now()-t)},startTimer:function(){var t=this;t.setSubtractStartTime(t.diffTime),function e(){t.nowTime=Math.floor(performance.now()),t.diffTime=t.nowTime-t.startTime,t.animateFrame=requestAnimationFrame(e)}(),t.isRunning=!0},stopTimer:function(){this.$emit("stop",this.times),this.isRunning=!1,cancelAnimationFrame(this.animateFrame)},pushTime:function(){this.times.push({hours:this.hours,minutes:this.minutes,seconds:this.seconds,milliSeconds:this.milliSeconds})},clearAll:function(){this.startTime=0,this.nowTime=0,this.diffTime=0,this.times=[],this.stopTimer(),this.animateFrame=0}},computed:{hours:function(){return Math.floor(this.diffTime/1e3/60/60)},minutes:function(){return Math.floor(this.diffTime/1e3/60)%60},seconds:function(){return Math.floor(this.diffTime/1e3)%60},milliSeconds:function(){return Math.floor(this.diffTime%1e3)}},filters:{zeroPad:function(t,e){e="undefined"!==typeof e?e:2;return t.toString().padStart(e,"0")}}}),S=O,$=n("8336"),j=Object(l["a"])(S,I,V,!1,null,"3d3d6e8e",null),C=j.exports;u()(j,{VBtn:$["a"]});var E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("rich message")])},A=[],R={},P=R,M=Object(l["a"])(P,E,A,!1,null,"390c57dd",null),L=M.exports,D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app-bar",{attrs:{dark:"",app:"","clipped-left":"",color:"#1867C0"}},[n("v-app-bar-nav-icon",{on:{click:function(e){t.drawer=!t.drawer}}}),n("span",{staticClass:"title ml-3 mr-5"},[t._v("Charly Bot")]),n("v-spacer"),n("v-btn",{attrs:{dark:"",outlined:"",to:{name:"login"}}},[t._v("Iniciar Sesión")]),n("v-btn",{attrs:{dark:"",outlined:"",to:{name:"register"}}},[t._v("Registro")])],1)},F=[],z={computed:{drawer:{get:function(){return this.$store.state.toolbar.drawerIcon},set:function(t){this.$store.state.toolbar.drawerIcon=t}}}},B=z,N=n("40dc"),q=n("5bc1"),J=n("2fa4"),U=Object(l["a"])(B,D,F,!1,null,"076655ba",null),X=U.exports;u()(U,{VAppBar:N["a"],VAppBarNavIcon:q["a"],VBtn:$["a"],VSpacer:J["a"]});var H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("snackbar")])},W=[],Z={},G=Z,K=Object(l["a"])(G,H,W,!1,null,"5d009a06",null),Q=K.exports,Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-navigation-drawer",{attrs:{app:"",clipped:"",color:"grey lighten-4"},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[n("v-list",{staticClass:"grey lighten-4",attrs:{dense:""}},[t._l(t.items,function(e,a){return[n("v-list-item",{key:a,attrs:{to:e.to},on:{click:function(t){}}},[n("v-list-item-action",[n("v-icon",[t._v(t._s(e.icon))])],1),n("v-list-item-content",[n("v-list-item-title",{staticClass:"grey--text"},[t._v(t._s(e.text))])],1)],1)]})],2)],1)},tt=[],et={data:function(){return{items:[{icon:"lightbulb_outline",text:"Agencias",to:{name:"agencies"}},{icon:"lightbulb_outline",text:"Menú Persistente",to:{name:"persistantMenu"}},{icon:"lightbulb_outline",text:"Intenciones",to:{name:"intent"}}]}},computed:{drawer:{get:function(){return this.$store.state.toolbar.drawerIcon},set:function(t){this.$store.state.toolbar.drawerIcon=t}}}},nt=et,at=n("132d"),rt=n("8860"),ot=n("da13"),it=n("1800"),st=n("5d23"),lt=n("f774"),ct=Object(l["a"])(nt,Y,tt,!1,null,"a6c41454",null),ut=ct.exports;u()(ct,{VIcon:at["a"],VList:rt["a"],VListItem:ot["a"],VListItemAction:it["a"],VListItemContent:st["a"],VListItemTitle:st["b"],VNavigationDrawer:lt["a"]}),a["a"].component("chronometer",C),a["a"].component("richMessage",L),a["a"].component("toolbar",X),a["a"].component("snackbar",Q),a["a"].component("drawer",ut),window.axios=k.a,window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",window.axios.defaults.headers.common["Authorization"]="Bearer "+localStorage.getItem("auth_token");var dt={formattedDate:function(t){var e=new Date(t);return e.toLocaleString()}},ft={install:function(t){t.helpers=dt,t.prototype.$helpers=dt}};a["a"].use(ft);n("d5e8"),n("d1e7");a["a"].config.productionTip=!1,new a["a"]({vuetify:o,router:w,store:T,render:function(t){return t(p)}}).$mount("#app")},"6d75":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[n("v-card",{staticClass:"elevation-12"},[n("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[n("v-toolbar-title",[t._v("Inicio de Sesión")]),n("div",{staticClass:"flex-grow-1"})],1),n("v-card-text",[n("v-form",[n("v-text-field",{attrs:{name:"nombres",label:"nombres"},model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}}),n("v-text-field",{attrs:{name:"Apellidos",label:"Apellidos"},model:{value:t.user.lastname,callback:function(e){t.$set(t.user,"lastname",e)},expression:"user.lastname"}}),n("v-text-field",{attrs:{label:"email",name:"email","prepend-icon":"person",type:"text"}}),n("v-text-field",{attrs:{id:"password",label:"Password",name:"password","prepend-icon":"lock",type:"password"}})],1)],1),n("v-card-actions",[n("div",{staticClass:"flex-grow-1"}),n("v-btn",{attrs:{color:"primary"}},[t._v("Registrar")])],1)],1)],1)],1)},r=[],o={data:function(){return{user:{name:"",lastName:"",email:"",password:""}}}},i=o,s=n("2877"),l=n("6544"),c=n.n(l),u=n("8336"),d=n("b0af"),f=n("99d9"),m=n("62ad"),p=n("4bd4"),v=n("0fd9"),h=n("8654"),g=n("71d9"),b=n("2a7f"),_=Object(s["a"])(i,a,r,!1,null,"75ad7718",null);e["default"]=_.exports;c()(_,{VBtn:u["a"],VCard:d["a"],VCardActions:f["a"],VCardText:f["b"],VCol:m["a"],VForm:p["a"],VRow:v["a"],VTextField:h["a"],VToolbar:g["a"],VToolbarTitle:b["a"]})},7761:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("intents")])},r=[],o={},i=o,s=n("2877"),l=Object(s["a"])(i,a,r,!1,null,"3f5c6e70",null);e["default"]=l.exports},"927d":function(t,e,n){},"99f1":function(t,e,n){"use strict";var a=n("927d"),r=n.n(a);r.a},bd01:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[n("v-card",{staticClass:"elevation-12"},[n("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[n("v-toolbar-title",[t._v("Inicio de Sesión")]),n("div",{staticClass:"flex-grow-1"})],1),n("v-card-text",[n("v-form",[n("v-text-field",{attrs:{label:"email",name:"email","prepend-icon":"person",type:"text"}}),n("v-text-field",{attrs:{id:"password",label:"Password",name:"password","prepend-icon":"lock",type:"password"}})],1)],1),n("v-card-actions",[n("div",{staticClass:"flex-grow-1"}),n("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.login(t.email,t.password)}}},[t._v("Ingresar")])],1)],1)],1)],1)},r=[],o={data:function(){return{user:{email:"",password:""}}},methods:{login:function(t,e){axios.post("api/login",{email:t,password:e}).then(function(t){console.log(t)}).catch(function(t){console.error(t)})}}},i=o,s=n("2877"),l=n("6544"),c=n.n(l),u=n("8336"),d=n("b0af"),f=n("99d9"),m=n("62ad"),p=n("4bd4"),v=n("0fd9"),h=n("8654"),g=n("71d9"),b=n("2a7f"),_=Object(s["a"])(i,a,r,!1,null,"71becf1e",null);e["default"]=_.exports;c()(_,{VBtn:u["a"],VCard:d["a"],VCardActions:f["a"],VCardText:f["b"],VCol:m["a"],VForm:p["a"],VRow:v["a"],VTextField:h["a"],VToolbar:g["a"],VToolbarTitle:b["a"]})},ca63:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("update Intent")])},r=[],o={},i=o,s=n("2877"),l=Object(s["a"])(i,a,r,!1,null,"678ce296",null);e["default"]=l.exports},ff18:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("pagina de error")])},r=[],o={},i=o,s=n("2877"),l=Object(s["a"])(i,a,r,!1,null,"6be65d42",null);e["default"]=l.exports},fff1:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("agencias")])},r=[],o={},i=o,s=n("2877"),l=Object(s["a"])(i,a,r,!1,null,"333da992",null);e["default"]=l.exports}});
//# sourceMappingURL=app.0c4bad54.js.map